<apex:page showHeader="false" sidebar="false"
    standardstylesheets="false" applyHtmlTag="false" applyBodyTag="false">
      <link data-require="ng-grid@*" data-semver="2.0.14" rel="stylesheet" href="//cdn.rawgit.com/angular-ui/ng-grid/v2.0.14/ng-grid.css" />
    <link rel="stylesheet" href="style.css" />
    <script data-require="angular.js@1.4.x" src="https://code.angularjs.org/1.4.1/angular.js" data-semver="1.4.1"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script src= "https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap-tpls.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap-tpls.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap.min.js"></script>
<script data-require="ng-grid@*" data-semver="2.0.14" src="//cdn.rawgit.com/angular-ui/ng-grid/v2.0.14/build/ng-grid.js"></script>
    <script data-require="ng-grid@*" data-semver="2.0.14" src="//cdn.rawgit.com/angular-ui/ng-grid/v2.0.14/plugins/ng-grid-flexible-height.js"></script>
    <script data-require="bootstrap@*" data-semver="3.3.2" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>   
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.0.16/jspdf.plugin.autotable.js"></script> -->
     <script type="text/javascript" src="//cdn.rawgit.com/MrRio/jsPDF/master/dist/jspdf.min.js"></script>
<script type="text/javascript" src="//cdn.rawgit.com/niklasvh/html2canvas/0.5.0-alpha2/dist/html2canvas.min.js"></script>

     
   <html ng-app="blobApp">
    <head>
    <style>
    
.gridStyles{
    width:940px;
    height:300px;
}
    </style>
    <c:bootstrapandangularjs/>
    <Script>
            var blobApp = angular.module('blobApp', ['ui.bootstrap','ngGrid']);
            blobApp.controller('blobcontroller' ,['$scope',function($scope){
               
       			  $scope.wrapperlist1 = [];
       			  $scope.wrapperlist2 = [];
       			  $scope.wrapperlist3 = [];
				$scope.columns = [];
				 $scope.createcolumns = function(){
				                	
				                	$scope.columns.push({"field" : "name" , "displayName" : "name"});
				                	$scope.columns.push({"field" : "id" , "displayName" : "id"});
				
				                	for(var v=0;v<=15;v++){
				                	$scope.columns.push({"field" : "x" + v , "displayName" : "x" + v});
				                	}
				                }
				 for(var v=0;v<100000;v++){
                            $scope.wrapperlist1.push({
	                        "name" : v + 'test',
	                        "id" : v,
	                        "x" : v + 'rt',
	                        "x0" : v + 'rt',
	                        "x1" : v + 'rt',
	                        "x2" : v + 'rt',
	                        "x3" : v + 'rt',
	                        "x4" : v + 'rt',
	                        "x5" : v + 'rt',
	                        "x6" : v + 'rt',
	                        "x7" : v + 'rt',
	                        "x8" : v + 'rt',
	                        "x9" : v + 'rt',
	                        "x10" : v + 'rt',
	                        "x11" : v + 'rt',
	                        "x12" : v + 'rt',
	                        "x13" : v + 'rt',
	                        "x14" : v + 'rt',
	                        "x15" : v + 'rt'
	                        })
                        }
                        $scope.createcolumns();
                        console.log($scope.wrapperlist1.length);
                   		 $scope.gridOptions1 = { 
          					    data:  'wrapperlist1',
          					    columnDefs: $scope.columns
      						};
				 
				 for(var v=0;v<1000;v++){
                            $scope.wrapperlist2.push({
	                        "name" : v + 'test',
	                        "id" : v,
	                        "x" : v + 'rt',
	                        "x0" : v + 'rt',
	                        "x1" : v + 'rt',
	                        "x2" : v + 'rt',
	                        "x3" : v + 'rt',
	                        "x4" : v + 'rt',
	                        "x5" : v + 'rt',
	                        "x6" : v + 'rt',
	                        "x7" : v + 'rt',
	                        "x8" : v + 'rt',
	                        "x9" : v + 'rt',
	                        "x10" : v + 'rt',
	                        "x11" : v + 'rt',
	                        "x12" : v + 'rt',
	                        "x13" : v + 'rt',
	                        "x14" : v + 'rt',
	                        "x15" : v + 'rt',
	                        })
                 }
                 $scope.gridOptions2 = { 
          					    data:  'wrapperlist2',
          					    columnDefs: $scope.columns
      						};
                 for(var v=0;v<1000;v++){
                            $scope.wrapperlist3.push({
	                        "name" : v + 'test',
	                        "id" : v,
	                        "x" : v + 'rt',
	                        "x0" : v + 'rt',
	                        "x1" : v + 'rt',
	                        "x2" : v + 'rt',
	                        "x3" : v + 'rt',
	                        "x4" : v + 'rt',
	                        "x5" : v + 'rt',
	                        "x6" : v + 'rt',
	                        "x7" : v + 'rt',
	                        "x8" : v + 'rt',
	                        "x9" : v + 'rt',
	                        "x10" : v + 'rt',
	                        "x11" : v + 'rt',
	                        "x12" : v + 'rt',
	                        "x13" : v + 'rt',
	                        "x14" : v + 'rt',
	                        "x15" : v + 'rt',
	                        })
                 }
                  $scope.gridOptions3 = { 
          					    data:  'wrapperlist3',
          					    columnDefs: $scope.columns
      			};
                function createPDF(){
	
}

					// create canvas object
					function getCanvas(){
						var form = $('#outertable'),
						cache_width = form.width(),
						a4  =[ 1995.28,  841.89];  // for a4 size paper width and height
						
						form.width((a4[0]*1.33333) -80).css('max-width','none');
						return html2canvas(form,{
					    	imageTimeout:2000,
					    	removeContainer:true
					    });	
					}
                  $scope.createPdf= function(){
			       	getCanvas().then(function(canvas){
					var img = canvas.toDataURL("image/png"),
					doc = new jsPDF({
			          unit:'px', 
			          format:'a4'
			        });     
			        doc.addImage(img, 'JPEG', 20, 20);
			        doc.save('techumber-html-to-pdf.pdf');
			        form.width(cache_width);
				});
	    	    }
			
           }]);
    </Script>
    
    </head>
   
    <body ng-controller="blobcontroller">
     <c:CricketHeader />
        <div class="container">
        <input class="btn btn-default" type="button" value="PDF" ng-click="createPdf()"/>
	        <div id="outertable">
			    <div id="table">
			        <div id="table1">
			        	<div class="gridStyles" ng-grid="gridOptions1"></div>
					</div>
					<div id="table2">
			        	<div class="gridStyles" ng-grid="gridOptions1"></div>
					</div>
					<div id="table3">
			        	<div class="gridStyles" ng-grid="gridOptions1"></div>
					</div>
		        </div>
		    </div>    
        </div>
    </body>
   </html>
</apex:page>